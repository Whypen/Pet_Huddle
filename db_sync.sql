-- Sync public.profiles columns to match src/types/database.ts::UserProfile
ALTER TABLE public.profiles
  ADD COLUMN IF NOT EXISTS id UUID,
  ADD COLUMN IF NOT EXISTS display_name TEXT,
  ADD COLUMN IF NOT EXISTS legal_name TEXT,
  ADD COLUMN IF NOT EXISTS phone TEXT,
  ADD COLUMN IF NOT EXISTS avatar_url TEXT,
  ADD COLUMN IF NOT EXISTS bio TEXT,
  ADD COLUMN IF NOT EXISTS gender_genre TEXT,
  ADD COLUMN IF NOT EXISTS orientation TEXT,
  ADD COLUMN IF NOT EXISTS dob DATE,
  ADD COLUMN IF NOT EXISTS height INTEGER,
  ADD COLUMN IF NOT EXISTS weight INTEGER,
  ADD COLUMN IF NOT EXISTS weight_unit TEXT,
  ADD COLUMN IF NOT EXISTS degree TEXT,
  ADD COLUMN IF NOT EXISTS school TEXT,
  ADD COLUMN IF NOT EXISTS major TEXT,
  ADD COLUMN IF NOT EXISTS affiliation TEXT,
  ADD COLUMN IF NOT EXISTS occupation TEXT,
  ADD COLUMN IF NOT EXISTS pet_experience TEXT[] DEFAULT '{}'::TEXT[],
  ADD COLUMN IF NOT EXISTS experience_years INTEGER,
  ADD COLUMN IF NOT EXISTS relationship_status TEXT,
  ADD COLUMN IF NOT EXISTS has_car BOOLEAN DEFAULT FALSE,
  ADD COLUMN IF NOT EXISTS languages TEXT[] DEFAULT '{}'::TEXT[],
  ADD COLUMN IF NOT EXISTS location_name TEXT,
  ADD COLUMN IF NOT EXISTS is_verified BOOLEAN DEFAULT FALSE,
  ADD COLUMN IF NOT EXISTS user_role TEXT,
  ADD COLUMN IF NOT EXISTS tier TEXT,
  ADD COLUMN IF NOT EXISTS subscription_status TEXT,
  ADD COLUMN IF NOT EXISTS stars_count INTEGER DEFAULT 0,
  ADD COLUMN IF NOT EXISTS mesh_alert_count INTEGER DEFAULT 0,
  ADD COLUMN IF NOT EXISTS media_credits INTEGER DEFAULT 0,
  ADD COLUMN IF NOT EXISTS family_slots INTEGER DEFAULT 0,
  ADD COLUMN IF NOT EXISTS onboarding_completed BOOLEAN DEFAULT FALSE,
  ADD COLUMN IF NOT EXISTS owns_pets BOOLEAN DEFAULT FALSE,
  ADD COLUMN IF NOT EXISTS social_availability BOOLEAN DEFAULT FALSE,
  ADD COLUMN IF NOT EXISTS availability_status TEXT[] DEFAULT '{}'::TEXT[],
  ADD COLUMN IF NOT EXISTS show_gender BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_orientation BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_age BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_height BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_weight BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_academic BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_affiliation BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_occupation BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS show_bio BOOLEAN DEFAULT TRUE,
  ADD COLUMN IF NOT EXISTS last_lat DOUBLE PRECISION,
  ADD COLUMN IF NOT EXISTS last_lng DOUBLE PRECISION,
  ADD COLUMN IF NOT EXISTS care_circle UUID[] DEFAULT ARRAY[]::UUID[],
  ADD COLUMN IF NOT EXISTS verification_status TEXT,
  ADD COLUMN IF NOT EXISTS verification_comment TEXT;
