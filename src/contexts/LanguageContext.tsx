import React, { createContext, useContext, useState, useEffect } from "react";

export type Language = "en" | "zh-TW" | "zh-CN";

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

export const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// Translations
const translations: Record<Language, Record<string, string>> = {
  en: {
    // Brand
    "app.name": "huddle",
    "app.subheadline": "Pet care & social",
    
    // Navigation
    "nav.home": "Home",
    "nav.social": "Social",
    "nav.chats": "Chats",
    "nav.ai_vet": "AI Vet",
    "nav.map": "Map",
    
    // Global Header
    "header.free": "Free",
    "header.premium": "Premium",
    "header.upgrade": "Upgrade",
    
    // Home
    "home.greeting": "Hi, {name}! ðŸ‘‹",
    "home.subtitle": "Let's care for your pets",
    "home.wisdom": "Huddle Wisdom",
    "home.next_event": "Next Event",
    
    // Social
    "social.discovery": "Discovery",
    "social.nearby": "Huddle Nearby",
    "social.nannies": "Nannies",
    "social.playdates": "Playdates",
    "social.animal_lovers": "Animal Lovers",
    "social.verified": "Verified",
    "social.support": "Support",
    "social.report": "Report",
    "social.hide": "Hide",
    "social.wave": "Wave",
    "social.match": "Double Wave!",
    
    // Dr. Huddle / AI Vet
    "ai.name": "Dr. Huddle",
    "ai.online": "Online",
    "ai.analyzing": "Analyzing for",
    "ai.disclaimer": "Dr. Huddle is an AI assistant for informational purposes only. Information provided can be wrong. Always seek professional veterinary opinions. Visit a clinic immediately if you have doubts or an emergency.",
    "ai.placeholder": "Type a message...",
    "ai.attach_pet": "Attach Pet Profile",
    
    // Map
    "map.search": "Find dog parks, vets, or friends...",
    "map.filter_all": "All",
    "map.filter_stray": "Stray",
    "map.filter_lost": "Lost",
    "map.filter_found": "Found",
    "map.filter_friends": "Friends",
    "map.filter_others": "Others",
    "map.go_online": "Go Online",
    "map.broadcast": "Broadcast Alert",
    "map.broadcast_remark": "Broadcasts to online users within {distance} miles; active for 48 hours.",
    "map.call_now": "Call Now",
    "map.navigate": "Navigate",
    "map.found_btn": "Found",
    "map.remove_pin": "Remove Pin?",
    "map.24h": "24h",
    
    // Chats
    "chats.title": "Chats",
    "chats.new_huddles": "New Huddles",
    "chats.create_group": "Create Group",
    "chats.group_name": "Group Name",
    "chats.add_members": "Add Members",
    "chats.allow_control": "Allow members to manage group",
    
    // Settings
    "settings.title": "Settings",
    "Account Settings": "Account Settings",
    "settings.profile": "Profile",
    "settings.account_security": "Account & Security",
    "settings.personal_info": "Personal Info",
    "settings.password": "Password",
    "settings.biometric": "Biometric Login",
    "settings.2fa": "Two-Factor Auth",
    "settings.privacy": "Privacy",
    "settings.private_account": "Private Account",
    "settings.map_visibility": "Map Visibility",
    "settings.trusted_locations": "Trusted Locations",
    "settings.notifications": "Notifications",
    "settings.pause_all": "Pause All",
    "settings.social_notif": "Social (Waves/Matches)",
    "settings.safety_notif": "Safety (Alerts)",
    "settings.ai_notif": "Dr. Huddle",
    "settings.email_notif": "Email Notifications",
    "settings.language": "Language",
    "settings.help_support": "Help & Support",
    "settings.report_bug": "Report a Bug",
    "settings.privacy_policy": "Privacy Policy",
    "settings.terms": "Terms of Service",
    "settings.deactivate": "Deactivate Account",
    "settings.delete": "Delete Account",
    "settings.logout": "Logout",
    "settings.pending": "Identity pending",
    "settings.verified_badge": "Verified huddler",
    
    // Profile
    "profile.edit": "Edit Profile",
    "profile.display_name": "Display Name",
    "profile.bio": "Bio",
    "profile.gender": "Gender",
    "profile.genre": "Genre/Orientation",
    "profile.dob": "Date of Birth",
    "profile.height": "Height",
    "profile.degree": "Highest Degree",
    "profile.occupation": "Occupation",
    "profile.school": "School",
    "profile.major": "Major",
    "profile.affiliation": "Affiliation",
    "profile.has_car": "Own a Car?",
    "profile.owns_pets": "Currently own pets?",
    "profile.show": "Show",
    
    // Pet Profile
    "pet.title": "Pet Profile",
    "pet.basics": "Basics",
    "pet.vault": "The Vault",
    "pet.lifestyle": "Lifestyle",
    "pet.name": "Name",
    "pet.species": "Species",
    "pet.breed": "Breed",
    "pet.gender": "Gender",
    "pet.weight": "Weight",
    "pet.dob": "Date of Birth",
    "pet.vaccinations": "Vaccinations",
    "pet.medications": "Medications",
    "pet.microchip": "Microchip ID",
    "pet.vet_contact": "Vet Contact",
    "pet.temperament": "Temperament",
    "pet.routine": "Routine",
    
    // Premium
    "premium.title": "Huddle Premium",
    "premium.unlock": "Unlock the full experience",
    "premium.upgrade": "Upgrade to Premium",
    "premium.maybe_later": "Maybe later",
    "premium.compare": "Compare Plans",
    "premium.free_plan": "Free",
    "premium.premium_plan": "Premium",
    "premium.grey_badge": "Grey Badge",
    "premium.gold_badge": "Gold Badge",
    "premium.text_ai": "Text AI",
    "premium.photo_audio_ai": "Photo/Audio AI",
    "premium.alert_1mi": "1-mile Alert",
    "premium.alert_5mi": "5-mile Alert",
    "premium.single_filter": "Single Filter",
    "premium.multi_filter": "Multi-select Filters",
    "premium.ghost_mode": "Ghost Mode",
    "premium.featured": "Featured Posting",
    

    // Nanny Booking Modal
    "booking.title": "Book Nanny",
    "booking.pet_nanny": "Pet Nanny",
    "booking.service_date": "Service Date",
    "booking.start_time": "Start Time",
    "booking.end_time": "End Time",
    "booking.which_pet": "Which Pet?",
    "booking.select_pet": "Select a petâ€¦",
    "booking.location": "Service Location",
    "booking.location_not_set": "Set location in your profile",
    "booking.amount": "Booking Amount (USD)",
    "booking.amount_note": "Minimum $10 Â· Payment held in escrow until service completed",
    "booking.amount_calculated": "Price is calculated from sitter hourly rate",
    "booking.cancel": "Cancel",
    "booking.pay": "Pay via Stripe",
    // Common
    "common.save": "Save",
    "common.cancel": "Cancel",
    "common.confirm": "Confirm",
    "common.delete": "Delete",
    "common.create": "Create",
    "common.add": "Add",
    "common.remove": "Remove",
    "common.close": "Close",
    "common.loading": "Loading...",
    "common.error": "Error",
    "common.success": "Success",
    "common.others": "Others",
    // Auth
    "auth.login": "Login",
    "auth.signup": "Sign Up",
    "auth.remember": "Remember Me",
    "auth.create_account": "Create Account",
    "auth.use_phone": "Use phone number instead",
    "auth.use_email": "Use email instead",
    "auth.apple": "Apple",
    "auth.google": "Google",
    "auth.soon": "Soon",
    "auth.or_continue": "Or continue with",
    "auth.forgot_password": "Forgot Password?",
    "auth.reset_enter_email": "Enter your email address to reset password",
    "auth.reset_failed": "Failed to send reset email",
    "auth.reset_sent": "Reset link sent to your email!",
    "auth.by_continuing": "By continuing, you agree to our",
    "auth.terms": "Terms of Service",
    "auth.and": "and",
    "auth.privacy": "Privacy Policy",
    "auth.welcome_back": "Welcome back!",
    "auth.use_email_signup": "Please use an email address to sign up",
    "auth.account_created": "Account created! Let's set up your profile.",
    "auth.errors.invalid_email": "Please enter a valid email address",
    "auth.errors.invalid_phone": "Please enter a valid phone number",
    "auth.errors.password_min": "Password must be at least 8 characters",
    "auth.errors.password_upper": "Password must contain at least 1 uppercase letter",
    "auth.errors.password_number": "Password must contain at least 1 number",
    "auth.errors.password_special": "Password must contain at least 1 special character",
    "auth.errors.invalid_identifier": "Please enter a valid email or phone number",
    "auth.errors.invalid": "Invalid email/phone or password",
    "auth.errors.account_exists": "An account with this email already exists",
    "auth.password_strength.length": "âœ“ At least 8 characters",
    "auth.password_strength.upper": "âœ“ One uppercase letter",
    "auth.password_strength.number": "âœ“ One number",
    "auth.password_strength.special": "âœ“ One special character",
    // Social
    "You and Sarah waved at each other. Start a chat to say hi!": "You and Sarah waved at each other. Start a chat to say hi!",
    "Start Chat": "Start Chat",
    // Settings & Identity
    "Invite link copied": "Invite link copied",
    "Failed to copy invite link": "Failed to copy invite link",
    "Share this link to invite a family member to your huddle.": "Share this link to invite a family member to your huddle.",
    "Copy Invite Link": "Copy Invite Link",
    "Verified": "Verified",
    "Verified Huddler": "Verified Huddler",
    "Upload a government-issued ID or passport for review. Approval typically takes 24-48 hours.": "Upload a government-issued ID or passport for review. Approval typically takes 24-48 hours.",
    "Click to upload ID/Passport": "Click to upload ID/Passport",
    "Submit": "Submit",
    "Update": "Update",
    "Verify": "Verify",
    "First, verify your current password": "First, verify your current password",
    "Place your finger on the sensor": "Place your finger on the sensor",
    "Scanning...": "Scanning...",
    "Success!": "Success!",
    "Touch the fingerprint sensor": "Touch the fingerprint sensor",
    "Keep your finger steady": "Keep your finger steady",
    "Biometric authentication enabled": "Biometric authentication enabled",
    "This action cannot be undone. All your data will be permanently deleted.": "This action cannot be undone. All your data will be permanently deleted.",
    "Verify your identity to unlock full community features": "Verify your identity to unlock full community features",
    "This is kept private and used only for verification": "This is kept private and used only for verification",
    "Submit your ID for review to earn a verified badge": "Submit your ID for review to earn a verified badge",
    "Start Verification": "Start Verification",
    "Submitting for Review...": "Submitting for Review...",
    "Processing your verification request": "Processing your verification request",
    "Verification Submitted": "Verification Submitted",
    "Your verification is pending approval": "Your verification is pending approval",
    "Skipping verification may affect your user journey": "Skipping verification may affect your user journey",
    "Unverified users have limited access to certain community features and may appear less trustworthy to others.": "Unverified users have limited access to certain community features and may appear less trustworthy to others.",
    "Yes, Skip Verification": "Yes, Skip Verification",
    "Skip for now": "Skip for now",
    "Continue to Profile Setup": "Continue to Profile Setup",
    "Verification submitted for review": "Verification submitted for review",
    // Hazard Scanner
    "Upload a photo of any object your pet found. AI will identify if it's toxic or safe.": "Upload a photo of any object your pet found. AI will identify if it's toxic or safe.",
    "Preview": "Preview",
    "Change Photo": "Change Photo",
    "Scan for Hazards": "Scan for Hazards",
    "identified as": "identified as",
    "Scan Another Item": "Scan Another Item",
    "Call Emergency Vet Now": "Call Emergency Vet Now",
    "appears to be safe": "appears to be safe",
    // Profile & Pets
    "Legal Name": "Legal Name",
    "Your legal name": "Your legal name",
    "Legal name is required": "Legal name is required",
    "Phone number is required": "Phone number is required",
    "Date of birth is required": "Date of birth is required",
    "Save Pet Profile": "Save Pet Profile",
    "months": "months",
    "year": "year",
    "years": "years",
    // Premium
    "You're a Gold Member!": "You're a Gold Member!",
    "You're a Premium Member!": "You're a Premium Member!",
    "Status:": "Status:",
    "active": "active",
    "Manage": "Manage",
    "Processing...": "Processing...",
    "Upgrade to": "Upgrade to",
    "Buy": "Buy",
    "Secure payments powered by Stripe": "Secure payments powered by Stripe",
    // Premium Feature Table
    "Badge Type": "Badge Type",
    "Grey": "Grey",
    "Blue Premium": "Blue Premium",
    "Gold Crown": "Gold Crown",
    "Chat Access": "Chat Access",
    "Limited": "Limited",
    "Unlimited": "Unlimited",
    "Unlimited + Priority": "Unlimited + Priority",
    "AI Vet": "AI Vet",
    "Text Only": "Text Only",
    "Photo + Audio": "Photo + Audio",
    "Unlimited Media": "Unlimited Media",
    "Broadcast Range": "Broadcast Range",
    "1 mile": "1 mile",
    "5 miles": "5 miles",
    "10 miles": "10 miles",
    "Social Filters": "Social Filters",
    "Basic": "Basic",
    "Advanced": "Advanced",
    "Advanced + Boosts": "Advanced + Boosts",
    "Ghost Mode": "Ghost Mode",
    "Notice Board": "Notice Board",
    "Priority Support": "Priority Support",
    "Marketplace Priority": "Marketplace Priority",
    "Ad-free Experience": "Ad-free Experience",
    // Add-ons
    "3 Star Pack": "3 Star Pack",
    "Boost your profile visibility": "Boost your profile visibility",
    "Emergency Mesh Alert": "Emergency Mesh Alert",
    "Lost pet emergency broadcast": "Lost pet emergency broadcast",
    "10 AI Vet Media Credits": "10 AI Vet Media Credits",
    "Upload photos/videos to AI Vet": "Upload photos/videos to AI Vet",
    "Family Member Slot": "Family Member Slot",
    "Add 1 family member to account": "Add 1 family member to account",
    "Verified Badge": "Verified Badge",
    "One-time ID verification": "One-time ID verification",
  },
  "zh-TW": {
    // Brand
    "app.name": "huddle",
    "app.subheadline": "å¯µç‰©ç…§è­·èˆ‡ç¤¾äº¤",
    
    // Navigation
    "nav.home": "é¦–é ",
    "nav.social": "ç¤¾äº¤",
    "nav.chats": "èŠå¤©",
    "nav.ai_vet": "AI ç¸é†«",
    "nav.map": "åœ°åœ–",
    
    // Global Header
    "header.free": "å…è²»ç‰ˆ",
    "header.premium": "æ˜Ÿç´šæœƒå“¡",
    "header.upgrade": "å‡ç´š",
    
    // Home
    "home.greeting": "å—¨ï¼Œ{name}ï¼ðŸ‘‹",
    "home.subtitle": "ä¸€èµ·ç…§é¡§ä½ çš„æ¯›å­©",
    "home.wisdom": "æ¯›å­©ç™¾ç§‘",
    "home.next_event": "ä¸‹ä¸€å€‹æ´»å‹•",
    
    // Social
    "social.discovery": "æŽ¢ç´¢",
    "social.nearby": "é™„è¿‘çš„Huddler",
    "social.nannies": "æš–å¿ƒä¿å§†",
    "social.playdates": "æ¯›å­©èšæœƒ",
    "social.animal_lovers": "å‹•ç‰©ä¹‹å‹",
    "social.verified": "å·²èªè­‰",
    "social.support": "æ”¯æŒ",
    "social.report": "æª¢èˆ‰",
    "social.hide": "éš±è—",
    "social.wave": "æ‰“æ‹›å‘¼",
    "social.match": "é›™å‘æ‰“æ‹›å‘¼ï¼",
    
    // Dr. Huddle / AI Vet
    "ai.name": "Huddle AI é†«ç”Ÿ",
    "ai.online": "ç·šä¸Š",
    "ai.analyzing": "æ­£åœ¨åˆ†æž",
    "ai.disclaimer": "Huddle AI é†«ç”Ÿæ˜¯åƒ…ä¾›åƒè€ƒçš„äººå·¥æ™ºæ…§åŠ©æ‰‹ã€‚æä¾›çš„è³‡è¨Šå¯èƒ½æœ‰èª¤ã€‚è«‹å‹™å¿…å°‹æ±‚å°ˆæ¥­ç¸é†«æ„è¦‹ã€‚å¦‚æœ‰ç–‘æ…®æˆ–ç·Šæ€¥æƒ…æ³ï¼Œè«‹ç«‹å³å‰å¾€è¨ºæ‰€ã€‚",
    "ai.placeholder": "è¼¸å…¥è¨Šæ¯...",
    "ai.attach_pet": "é™„åŠ å¯µç‰©è³‡æ–™",
    
    // Map
    "map.search": "æœå°‹ç‹—å…¬åœ’ã€ç¸é†«æˆ–æœ‹å‹...",
    "map.filter_all": "å…¨éƒ¨",
    "map.filter_stray": "æµæµªå‹•ç‰©",
    "map.filter_lost": "èµ°å¤±å¯µç‰©",
    "map.filter_found": "å·²æ‰¾åˆ°",
    "map.filter_friends": "æœ‹å‹",
    "map.filter_others": "å…¶ä»–",
    "map.go_online": "ä¸Šç·š",
    "map.broadcast": "ç·Šæ€¥é€šå ±",
    "map.broadcast_remark": "é€šå ±å°‡ç™¼é€çµ¦{distance}è‹±é‡Œå…§çš„ç·šä¸Šç”¨æˆ¶ï¼›æœ‰æ•ˆæœŸ48å°æ™‚ã€‚",
    "map.call_now": "ç«‹å³æ’¥æ‰“",
    "map.navigate": "å°Žèˆª",
    "map.found_btn": "å·²æ‰¾åˆ°",
    "map.remove_pin": "ç§»é™¤æ¨™è¨˜ï¼Ÿ",
    "map.24h": "24å°æ™‚",
    
    // Chats
    "chats.title": "èŠå¤©",
    "chats.new_huddles": "æ–°æœ‹å‹",
    "chats.create_group": "å»ºç«‹ç¾¤çµ„",
    "chats.group_name": "ç¾¤çµ„åç¨±",
    "chats.add_members": "æ–°å¢žæˆå“¡",
    "chats.allow_control": "å…è¨±æˆå“¡ç®¡ç†ç¾¤çµ„",
    
    // Settings
    "settings.title": "è¨­å®š",
    "Account Settings": "å¸³è™Ÿè¨­å®š",
    "settings.profile": "å€‹äººè³‡æ–™",
    "settings.account_security": "å¸³è™Ÿèˆ‡å®‰å…¨",
    "settings.personal_info": "å€‹äººè³‡è¨Š",
    "settings.password": "å¯†ç¢¼",
    "settings.biometric": "ç”Ÿç‰©è¾¨è­˜ç™»å…¥",
    "settings.2fa": "é›™é‡é©—è­‰",
    "settings.privacy": "éš±ç§",
    "settings.private_account": "ç§äººå¸³è™Ÿ",
    "settings.map_visibility": "åœ°åœ–å¯è¦‹åº¦",
    "settings.trusted_locations": "ä¿¡ä»»çš„ä½ç½®",
    "settings.notifications": "é€šçŸ¥",
    "settings.pause_all": "æš«åœæ‰€æœ‰é€šçŸ¥",
    "settings.social_notif": "ç¤¾äº¤ï¼ˆæ‰“æ‹›å‘¼/é…å°ï¼‰",
    "settings.safety_notif": "å®‰å…¨ï¼ˆè­¦å ±ï¼‰",
    "settings.ai_notif": "Huddle AI é†«ç”Ÿ",
    "settings.email_notif": "é›»å­éƒµä»¶é€šçŸ¥",
    "settings.language": "èªžè¨€",
    "settings.help_support": "èªªæ˜Žèˆ‡æ”¯æ´",
    "settings.report_bug": "å›žå ±å•é¡Œ",
    "settings.privacy_policy": "éš±ç§æ¬Šæ”¿ç­–",
    "settings.terms": "æœå‹™æ¢æ¬¾",
    "settings.deactivate": "åœç”¨å¸³è™Ÿ",
    "settings.delete": "åˆªé™¤å¸³è™Ÿ",
    "settings.logout": "ç™»å‡º",
    "settings.pending": "èº«ä»½é©—è­‰ä¸­",
    "settings.verified_badge": "èªè­‰huddler",
    
    // Profile
    "profile.edit": "ç·¨è¼¯å€‹äººè³‡æ–™",
    "profile.display_name": "é¡¯ç¤ºåç¨±",
    "profile.bio": "ç°¡ä»‹",
    "profile.gender": "æ€§åˆ¥",
    "profile.genre": "æ€§å‘",
    "profile.dob": "å‡ºç”Ÿæ—¥æœŸ",
    "profile.height": "èº«é«˜",
    "profile.degree": "æœ€é«˜å­¸æ­·",
    "profile.occupation": "è·æ¥­",
    "profile.school": "å­¸æ ¡",
    "profile.major": "ä¸»ä¿®",
    "profile.affiliation": "éš¸å±¬çµ„ç¹”",
    "profile.has_car": "æœ‰è»Šï¼Ÿ",
    "profile.owns_pets": "ç›®å‰æœ‰é¤Šå¯µç‰©ï¼Ÿ",
    "profile.show": "é¡¯ç¤º",
    
    // Pet Profile
    "pet.title": "é¤Šå¯µè³‡æ–™",
    "pet.basics": "åŸºæœ¬è³‡æ–™",
    "pet.vault": "å¥åº·è¨˜éŒ„",
    "pet.lifestyle": "ç”Ÿæ´»ç¿’æ…£",
    "pet.name": "åå­—",
    "pet.species": "ç¨®é¡ž",
    "pet.breed": "å“ç¨®",
    "pet.gender": "æ€§åˆ¥",
    "pet.weight": "é«”é‡",
    "pet.dob": "å‡ºç”Ÿæ—¥æœŸ",
    "pet.vaccinations": "ç–«è‹—æŽ¥ç¨®",
    "pet.medications": "ç”¨è—¥",
    "pet.microchip": "æ™¶ç‰‡è™Ÿç¢¼",
    "pet.vet_contact": "ç¸é†«è¯çµ¡æ–¹å¼",
    "pet.temperament": "æ€§æ ¼",
    "pet.routine": "æ—¥å¸¸ä½œæ¯",
    
    // Premium
    "premium.title": "Huddle æ˜Ÿç´šæœƒå“¡",
    "premium.unlock": "è§£éŽ–å®Œæ•´é«”é©—",
    "premium.upgrade": "æˆç‚ºæ˜Ÿç´šhuddler",
    "premium.maybe_later": "ç¨å¾Œå†èªª",
    "premium.compare": "æ–¹æ¡ˆæ¯”è¼ƒ",
    "premium.free_plan": "å…è²»ç‰ˆ",
    "premium.premium_plan": "æ˜Ÿç´šæœƒå“¡",
    "premium.grey_badge": "ç°è‰²å¾½ç« ",
    "premium.gold_badge": "é‡‘è‰²å¾½ç« ",
    "premium.text_ai": "æ–‡å­—AI",
    "premium.photo_audio_ai": "ç…§ç‰‡/èªžéŸ³AI",
    "premium.alert_1mi": "1è‹±é‡Œè­¦å ±",
    "premium.alert_5mi": "5è‹±é‡Œè­¦å ±",
    "premium.single_filter": "å–®ä¸€ç¯©é¸",
    "premium.multi_filter": "å¤šé‡ç¯©é¸",
    "premium.ghost_mode": "éš±èº«æ¨¡å¼",
    "premium.featured": "ç²¾é¸åˆŠç™»",
    

    // Nanny Booking Modal
    "booking.title": "é ç´„ä¿å§†",
    "booking.pet_nanny": "å¯µç‰©ä¿å§†",
    "booking.service_date": "æœå‹™æ—¥æœŸ",
    "booking.start_time": "é–‹å§‹æ™‚é–“",
    "booking.end_time": "çµæŸæ™‚é–“",
    "booking.which_pet": "å“ªéš»å¯µç‰©ï¼Ÿ",
    "booking.select_pet": "è«‹é¸æ“‡å¯µç‰©â€¦",
    "booking.location": "æœå‹™åœ°é»ž",
    "booking.location_not_set": "è«‹åœ¨å€‹äººè³‡æ–™ä¸­è¨­å®šåœ°é»ž",
    "booking.amount": "é ç´„é‡‘é¡ï¼ˆç¾Žå…ƒï¼‰",
    "booking.amount_note": "æœ€ä½Ž $10 Â· é‡‘é¡å°‡æ‰˜ç®¡è‡³æœå‹™å®Œæˆ",
    "booking.amount_calculated": "åƒ¹æ ¼ä¾ä¿å§†æ™‚è–ªè‡ªå‹•è¨ˆç®—",
    "booking.cancel": "å–æ¶ˆ",
    "booking.pay": "å‰å¾€ä»˜æ¬¾",
    // Common
    "common.save": "å„²å­˜",
    "common.cancel": "å–æ¶ˆ",
    "common.confirm": "ç¢ºèª",
    "common.delete": "åˆªé™¤",
    "common.create": "å»ºç«‹",
    "common.add": "æ–°å¢ž",
    "common.remove": "ç§»é™¤",
    "common.close": "é—œé–‰",
    "common.loading": "è¼‰å…¥ä¸­...",
    "common.error": "éŒ¯èª¤",
    "common.success": "æˆåŠŸ",
    "common.others": "å…¶ä»–",
    // Auth
    "auth.login": "ç™»å…¥",
    "auth.signup": "è¨»å†Š",
    "auth.remember": "è¨˜ä½æˆ‘",
    "auth.create_account": "å»ºç«‹å¸³è™Ÿ",
    "auth.use_phone": "æ”¹ç”¨é›»è©±è™Ÿç¢¼",
    "auth.use_email": "æ”¹ç”¨é›»å­éƒµä»¶",
    "auth.apple": "Apple",
    "auth.google": "Google",
    "auth.soon": "å³å°‡æŽ¨å‡º",
    "auth.or_continue": "æˆ–ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ç¹¼çºŒ",
    "auth.forgot_password": "å¿˜è¨˜å¯†ç¢¼ï¼Ÿ",
    "auth.reset_enter_email": "è«‹è¼¸å…¥é›»å­éƒµä»¶ä»¥é‡è¨­å¯†ç¢¼",
    "auth.reset_failed": "é‡è¨­ä¿¡ä»¶å¯„é€å¤±æ•—",
    "auth.reset_sent": "é‡è¨­é€£çµå·²å¯„å‡º",
    "auth.by_continuing": "ç¹¼çºŒå³è¡¨ç¤ºæ‚¨åŒæ„",
    "auth.terms": "æœå‹™æ¢æ¬¾",
    "auth.and": "èˆ‡",
    "auth.privacy": "éš±ç§æ¬Šæ”¿ç­–",
    "auth.welcome_back": "æ­¡è¿Žå›žä¾†ï¼",
    "auth.use_email_signup": "è«‹ä½¿ç”¨é›»å­éƒµä»¶è¨»å†Š",
    "auth.account_created": "å¸³è™Ÿå·²å»ºç«‹ï¼è®“æˆ‘å€‘é–‹å§‹è¨­å®šæª”æ¡ˆã€‚",
    "auth.errors.invalid_email": "è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶",
    "auth.errors.invalid_phone": "è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»è©±è™Ÿç¢¼",
    "auth.errors.password_min": "å¯†ç¢¼è‡³å°‘ 8 ç¢¼",
    "auth.errors.password_upper": "å¯†ç¢¼éœ€åŒ…å«è‡³å°‘ 1 å€‹å¤§å¯«å­—æ¯",
    "auth.errors.password_number": "å¯†ç¢¼éœ€åŒ…å«è‡³å°‘ 1 å€‹æ•¸å­—",
    "auth.errors.password_special": "å¯†ç¢¼éœ€åŒ…å«è‡³å°‘ 1 å€‹ç‰¹æ®Šå­—å…ƒ",
    "auth.errors.invalid_identifier": "è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶æˆ–é›»è©±è™Ÿç¢¼",
    "auth.errors.invalid": "å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤",
    "auth.errors.account_exists": "æ­¤é›»å­éƒµä»¶å·²è¨»å†Š",
    "auth.password_strength.length": "âœ“ è‡³å°‘ 8 å€‹å­—å…ƒ",
    "auth.password_strength.upper": "âœ“ è‡³å°‘ 1 å€‹å¤§å¯«å­—æ¯",
    "auth.password_strength.number": "âœ“ è‡³å°‘ 1 å€‹æ•¸å­—",
    "auth.password_strength.special": "âœ“ è‡³å°‘ 1 å€‹ç‰¹æ®Šå­—å…ƒ",
    // Social
    "You and Sarah waved at each other. Start a chat to say hi!": "ä½ å’Œ Sarah äº’ç›¸æ‰“æ‹›å‘¼äº†ï¼Œé–‹å§‹èŠå¤©å§ï¼",
    "Start Chat": "é–‹å§‹èŠå¤©",
    // Settings & Identity
    "Invite link copied": "é‚€è«‹é€£çµå·²è¤‡è£½",
    "Failed to copy invite link": "è¤‡è£½é‚€è«‹é€£çµå¤±æ•—",
    "Share this link to invite a family member to your huddle.": "åˆ†äº«æ­¤é€£çµä»¥é‚€è«‹å®¶äººåŠ å…¥ä½ çš„ huddleã€‚",
    "Copy Invite Link": "è¤‡è£½é‚€è«‹é€£çµ",
    "Verified": "å·²é©—è­‰",
    "Verified Huddler": "å·²é©—è­‰ Huddler",
    "Upload a government-issued ID or passport for review. Approval typically takes 24-48 hours.": "ä¸Šå‚³æ”¿åºœæ ¸ç™¼è­‰ä»¶æˆ–è­·ç…§ä»¥ä¾›å¯©æ ¸ï¼Œé€šå¸¸éœ€ 24-48 å°æ™‚ã€‚",
    "Click to upload ID/Passport": "é»žæ“Šä¸Šå‚³è­‰ä»¶/è­·ç…§",
    "Submit": "é€å‡º",
    "Update": "æ›´æ–°",
    "Verify": "é©—è­‰",
    "First, verify your current password": "è«‹å…ˆé©—è­‰ç›®å‰å¯†ç¢¼",
    "Place your finger on the sensor": "è«‹å°‡æ‰‹æŒ‡æ”¾åœ¨æ„Ÿæ‡‰å™¨ä¸Š",
    "Scanning...": "æŽƒæä¸­...",
    "Success!": "æˆåŠŸï¼",
    "Touch the fingerprint sensor": "è«‹è§¸ç¢°æŒ‡ç´‹æ„Ÿæ‡‰å™¨",
    "Keep your finger steady": "è«‹ä¿æŒæ‰‹æŒ‡ç©©å®š",
    "Biometric authentication enabled": "å·²å•Ÿç”¨ç”Ÿç‰©è¾¨è­˜",
    "This action cannot be undone. All your data will be permanently deleted.": "æ­¤æ“ä½œç„¡æ³•å¾©åŽŸï¼Œæ‰€æœ‰è³‡æ–™å°‡è¢«æ°¸ä¹…åˆªé™¤ã€‚",
    "Verify your identity to unlock full community features": "é©—è­‰èº«ä»½ä»¥è§£éŽ–å®Œæ•´åŠŸèƒ½",
    "This is kept private and used only for verification": "æ­¤è³‡è¨Šåƒ…ç”¨æ–¼é©—è­‰ä¸¦ä¿æŒç§å¯†",
    "Submit your ID for review to earn a verified badge": "æäº¤è­‰ä»¶å¯©æ ¸ä»¥ç²å¾—é©—è­‰å¾½ç« ",
    "Start Verification": "é–‹å§‹é©—è­‰",
    "Submitting for Review...": "é€å‡ºå¯©æ ¸ä¸­...",
    "Processing your verification request": "æ­£åœ¨è™•ç†é©—è­‰ç”³è«‹",
    "Verification Submitted": "å·²æäº¤é©—è­‰",
    "Your verification is pending approval": "ä½ çš„é©—è­‰æ­£åœ¨ç­‰å¾…å¯©æ ¸",
    "Skipping verification may affect your user journey": "ç•¥éŽé©—è­‰å¯èƒ½å½±éŸ¿ä½¿ç”¨é«”é©—",
    "Unverified users have limited access to certain community features and may appear less trustworthy to others.": "æœªé©—è­‰ç”¨æˆ¶å°‡å—é™æ–¼éƒ¨åˆ†åŠŸèƒ½ï¼Œä¸”å¯èƒ½é™ä½Žå¯ä¿¡åº¦ã€‚",
    "Yes, Skip Verification": "æ˜¯çš„ï¼Œç•¥éŽé©—è­‰",
    "Skip for now": "æš«æ™‚ç•¥éŽ",
    "Continue to Profile Setup": "ç¹¼çºŒè¨­å®šå€‹äººæª”æ¡ˆ",
    "Verification submitted for review": "é©—è­‰å·²é€å‡ºå¯©æ ¸",
    // Hazard Scanner
    "Upload a photo of any object your pet found. AI will identify if it's toxic or safe.": "ä¸Šå‚³å¯µç‰©æ‰¾åˆ°çš„ç‰©å“ç…§ç‰‡ï¼ŒAI æœƒåˆ¤æ–·æ˜¯å¦æœ‰æ¯’ã€‚",
    "Preview": "é è¦½",
    "Change Photo": "æ›´æ›ç…§ç‰‡",
    "Scan for Hazards": "æŽƒæå±éšªç‰©",
    "identified as": "åˆ¤å®šç‚º",
    "Scan Another Item": "å†æŽƒæä¸€é …",
    "Call Emergency Vet Now": "ç«‹å³è‡´é›»æ€¥è¨ºç¸é†«",
    "appears to be safe": "çœ‹èµ·ä¾†æ˜¯å®‰å…¨çš„",
    // Profile & Pets
    "Legal Name": "æ³•å®šå§“å",
    "Your legal name": "ä½ çš„æ³•å®šå§“å",
    "Legal name is required": "è«‹è¼¸å…¥æ³•å®šå§“å",
    "Phone number is required": "è«‹è¼¸å…¥é›»è©±è™Ÿç¢¼",
    "Date of birth is required": "è«‹è¼¸å…¥å‡ºç”Ÿæ—¥æœŸ",
    "Save Pet Profile": "å„²å­˜å¯µç‰©æª”æ¡ˆ",
    "months": "å€‹æœˆ",
    "year": "å¹´",
    "years": "å¹´",
    // Premium
    "You're a Gold Member!": "ä½ æ˜¯é‡‘ç´šæœƒå“¡ï¼",
    "You're a Premium Member!": "ä½ æ˜¯é«˜ç´šæœƒå“¡ï¼",
    "Status:": "ç‹€æ…‹ï¼š",
    "active": "å•Ÿç”¨ä¸­",
    "Manage": "ç®¡ç†",
    "Processing...": "è™•ç†ä¸­...",
    "Upgrade to": "å‡ç´šç‚º",
    "Buy": "è³¼è²·",
    "Secure payments powered by Stripe": "å®‰å…¨ä»˜æ¬¾ç”± Stripe æä¾›",
    // Premium Feature Table
    "Badge Type": "å¾½ç« é¡žåž‹",
    "Grey": "ç°è‰²",
    "Blue Premium": "è—è‰²é«˜ç´š",
    "Gold Crown": "é‡‘è‰²çš‡å† ",
    "Chat Access": "èŠå¤©æ¬Šé™",
    "Limited": "æœ‰é™",
    "Unlimited": "ç„¡é™åˆ¶",
    "Unlimited + Priority": "ç„¡é™åˆ¶ + å„ªå…ˆ",
    "AI Vet": "AI ç¸é†«",
    "Text Only": "åƒ…æ–‡å­—",
    "Photo + Audio": "ç…§ç‰‡ + éŸ³è¨Š",
    "Unlimited Media": "ç„¡é™åª’é«”",
    "Broadcast Range": "å»£æ’­ç¯„åœ",
    "1 mile": "1 è‹±é‡Œ",
    "5 miles": "5 è‹±é‡Œ",
    "10 miles": "10 è‹±é‡Œ",
    "Social Filters": "ç¤¾äº¤ç¯©é¸",
    "Basic": "åŸºæœ¬",
    "Advanced": "é€²éšŽ",
    "Advanced + Boosts": "é€²éšŽ + Boost",
    "Ghost Mode": "å¹½éˆæ¨¡å¼",
    "Notice Board": "å…¬å‘Šæ¿",
    "Priority Support": "å„ªå…ˆæ”¯æ´",
    "Marketplace Priority": "å¸‚é›†å„ªå…ˆ",
    "Ad-free Experience": "ç„¡å»£å‘Šé«”é©—",
    // Add-ons
    "3 Star Pack": "3 é¡†æ˜Ÿçµ„åˆ",
    "Boost your profile visibility": "æå‡å€‹äººæ›å…‰åº¦",
    "Emergency Mesh Alert": "ç·Šæ€¥ç¶²ç‹€è­¦å ±",
    "Lost pet emergency broadcast": "èµ°å¤±å¯µç‰©ç·Šæ€¥å»£æ’­",
    "10 AI Vet Media Credits": "10 æ¬¡ AI ç¸é†«åª’é«”",
    "Upload photos/videos to AI Vet": "ä¸Šå‚³ç…§ç‰‡/å½±ç‰‡è‡³ AI ç¸é†«",
    "Family Member Slot": "å®¶åº­æˆå“¡åé¡",
    "Add 1 family member to account": "æ–°å¢ž 1 ä½å®¶åº­æˆå“¡",
    "Verified Badge": "å·²é©—è­‰å¾½ç« ",
    "One-time ID verification": "ä¸€æ¬¡æ€§èº«åˆ†é©—è­‰",
  },
  "zh-CN": {
    // Brand
    "app.name": "huddle",
    "app.subheadline": "å® ç‰©ç…§æŠ¤ä¸Žç¤¾äº¤",
    
    // Navigation
    "nav.home": "é¦–é¡µ",
    "nav.social": "ç¤¾äº¤",
    "nav.chats": "èŠå¤©",
    "nav.ai_vet": "AI å…½åŒ»",
    "nav.map": "åœ°å›¾",
    
    // Global Header
    "header.free": "å…è´¹ç‰ˆ",
    "header.premium": "æ˜Ÿçº§ä¼šå‘˜",
    "header.upgrade": "å‡çº§",
    
    // Home
    "home.greeting": "å—¨ï¼Œ{name}ï¼ðŸ‘‹",
    "home.subtitle": "ä¸€èµ·ç…§é¡¾ä½ çš„æ¯›å­©",
    "home.wisdom": "æ¯›å­©ç™¾ç§‘",
    "home.next_event": "ä¸‹ä¸€ä¸ªæ´»åŠ¨",
    
    // Social
    "social.discovery": "æŽ¢ç´¢",
    "social.nearby": "é™„è¿‘çš„Huddler",
    "social.nannies": "æš–å¿ƒä¿å§†",
    "social.playdates": "æ¯›å­©èšä¼š",
    "social.animal_lovers": "åŠ¨ç‰©ä¹‹å‹",
    "social.verified": "å·²è®¤è¯",
    "social.support": "æ”¯æŒ",
    "social.report": "ä¸¾æŠ¥",
    "social.hide": "éšè—",
    "social.wave": "æ‰“æ‹›å‘¼",
    "social.match": "åŒå‘æ‰“æ‹›å‘¼ï¼",
    
    // Dr. Huddle / AI Vet
    "ai.name": "Huddle AI åŒ»ç”Ÿ",
    "ai.online": "åœ¨çº¿",
    "ai.analyzing": "æ­£åœ¨åˆ†æž",
    "ai.disclaimer": "Huddle AI åŒ»ç”Ÿæ˜¯ä»…ä¾›å‚è€ƒçš„äººå·¥æ™ºèƒ½åŠ©æ‰‹ã€‚æä¾›çš„ä¿¡æ¯å¯èƒ½æœ‰è¯¯ã€‚è¯·åŠ¡å¿…å¯»æ±‚ä¸“ä¸šå…½åŒ»æ„è§ã€‚å¦‚æœ‰ç–‘è™‘æˆ–ç´§æ€¥æƒ…å†µï¼Œè¯·ç«‹å³å‰å¾€è¯Šæ‰€ã€‚",
    "ai.placeholder": "è¾“å…¥æ¶ˆæ¯...",
    "ai.attach_pet": "é™„åŠ å® ç‰©èµ„æ–™",
    
    // Map
    "map.search": "æœç´¢ç‹—å…¬å›­ã€å…½åŒ»æˆ–æœ‹å‹...",
    "map.filter_all": "å…¨éƒ¨",
    "map.filter_stray": "æµæµªåŠ¨ç‰©",
    "map.filter_lost": "èµ°å¤±å® ç‰©",
    "map.filter_found": "å·²æ‰¾åˆ°",
    "map.filter_friends": "æœ‹å‹",
    "map.filter_others": "å…¶ä»–",
    "map.go_online": "ä¸Šçº¿",
    "map.broadcast": "ç´§æ€¥é€šæŠ¥",
    "map.broadcast_remark": "é€šæŠ¥å°†å‘é€ç»™{distance}è‹±é‡Œå†…çš„åœ¨çº¿ç”¨æˆ·ï¼›æœ‰æ•ˆæœŸ48å°æ—¶ã€‚",
    "map.call_now": "ç«‹å³æ‹¨æ‰“",
    "map.navigate": "å¯¼èˆª",
    "map.found_btn": "å·²æ‰¾åˆ°",
    "map.remove_pin": "ç§»é™¤æ ‡è®°ï¼Ÿ",
    "map.24h": "24å°æ—¶",
    
    // Chats
    "chats.title": "èŠå¤©",
    "chats.new_huddles": "æ–°æœ‹å‹",
    "chats.create_group": "åˆ›å»ºç¾¤ç»„",
    "chats.group_name": "ç¾¤ç»„åç§°",
    "chats.add_members": "æ·»åŠ æˆå‘˜",
    "chats.allow_control": "å…è®¸æˆå‘˜ç®¡ç†ç¾¤ç»„",
    
    // Settings
    "settings.title": "è®¾ç½®",
    "settings.profile": "ä¸ªäººèµ„æ–™",
    "settings.account_security": "è´¦å·ä¸Žå®‰å…¨",
    "settings.personal_info": "ä¸ªäººä¿¡æ¯",
    "settings.password": "å¯†ç ",
    "settings.biometric": "ç”Ÿç‰©è¯†åˆ«ç™»å½•",
    "settings.2fa": "åŒé‡éªŒè¯",
    "settings.privacy": "éšç§",
    "settings.private_account": "ç§äººè´¦å·",
    "settings.map_visibility": "åœ°å›¾å¯è§åº¦",
    "settings.trusted_locations": "ä¿¡ä»»çš„ä½ç½®",
    "settings.notifications": "é€šçŸ¥",
    "settings.pause_all": "æš‚åœæ‰€æœ‰é€šçŸ¥",
    "settings.social_notif": "ç¤¾äº¤ï¼ˆæ‰“æ‹›å‘¼/é…å¯¹ï¼‰",
    "settings.safety_notif": "å®‰å…¨ï¼ˆè­¦æŠ¥ï¼‰",
    "settings.ai_notif": "Huddle AI åŒ»ç”Ÿ",
    "settings.email_notif": "ç”µå­é‚®ä»¶é€šçŸ¥",
    "settings.language": "è¯­è¨€",
    "settings.help_support": "å¸®åŠ©ä¸Žæ”¯æŒ",
    "settings.report_bug": "æŠ¥å‘Šé—®é¢˜",
    "settings.privacy_policy": "éšç§æ”¿ç­–",
    "settings.terms": "æœåŠ¡æ¡æ¬¾",
    "settings.deactivate": "åœç”¨è´¦å·",
    "settings.delete": "åˆ é™¤è´¦å·",
    "settings.logout": "ç™»å‡º",
    "settings.pending": "èº«ä»½éªŒè¯ä¸­",
    "settings.verified_badge": "è®¤è¯huddler",
    
    // Profile
    "profile.edit": "ç¼–è¾‘ä¸ªäººèµ„æ–™",
    "profile.display_name": "æ˜¾ç¤ºåç§°",
    "profile.bio": "ç®€ä»‹",
    "profile.gender": "æ€§åˆ«",
    "profile.genre": "æ€§å‘",
    "profile.dob": "å‡ºç”Ÿæ—¥æœŸ",
    "profile.height": "èº«é«˜",
    "profile.degree": "æœ€é«˜å­¦åŽ†",
    "profile.occupation": "èŒä¸š",
    "profile.school": "å­¦æ ¡",
    "profile.major": "ä¸“ä¸š",
    "profile.affiliation": "éš¶å±žç»„ç»‡",
    "profile.has_car": "æœ‰è½¦ï¼Ÿ",
    "profile.owns_pets": "ç›®å‰æœ‰å…»å® ç‰©ï¼Ÿ",
    "profile.show": "æ˜¾ç¤º",
    
    // Pet Profile
    "pet.title": "å…»å® èµ„æ–™",
    "pet.basics": "åŸºæœ¬èµ„æ–™",
    "pet.vault": "å¥åº·è®°å½•",
    "pet.lifestyle": "ç”Ÿæ´»ä¹ æƒ¯",
    "pet.name": "åå­—",
    "pet.species": "ç§ç±»",
    "pet.breed": "å“ç§",
    "pet.gender": "æ€§åˆ«",
    "pet.weight": "ä½“é‡",
    "pet.dob": "å‡ºç”Ÿæ—¥æœŸ",
    "pet.vaccinations": "ç–«è‹—æŽ¥ç§",
    "pet.medications": "ç”¨è¯",
    "pet.microchip": "èŠ¯ç‰‡å·ç ",
    "pet.vet_contact": "å…½åŒ»è”ç³»æ–¹å¼",
    "pet.temperament": "æ€§æ ¼",
    "pet.routine": "æ—¥å¸¸ä½œæ¯",
    
    // Premium
    "premium.title": "Huddle æ˜Ÿçº§ä¼šå‘˜",
    "premium.unlock": "è§£é”å®Œæ•´ä½“éªŒ",
    "premium.upgrade": "æˆä¸ºæ˜Ÿçº§huddler",
    "premium.maybe_later": "ç¨åŽå†è¯´",
    "premium.compare": "æ–¹æ¡ˆæ¯”è¾ƒ",
    "premium.free_plan": "å…è´¹ç‰ˆ",
    "premium.premium_plan": "æ˜Ÿçº§ä¼šå‘˜",
    "premium.grey_badge": "ç°è‰²å¾½ç« ",
    "premium.gold_badge": "é‡‘è‰²å¾½ç« ",
    "premium.text_ai": "æ–‡å­—AI",
    "premium.photo_audio_ai": "ç…§ç‰‡/è¯­éŸ³AI",
    "premium.alert_1mi": "1è‹±é‡Œè­¦æŠ¥",
    "premium.alert_5mi": "5è‹±é‡Œè­¦æŠ¥",
    "premium.single_filter": "å•ä¸€ç­›é€‰",
    "premium.multi_filter": "å¤šé‡ç­›é€‰",
    "premium.ghost_mode": "éšèº«æ¨¡å¼",
    "premium.featured": "ç²¾é€‰åˆŠç™»",
    

    // Nanny Booking Modal
    "booking.title": "é¢„çº¦ä¿å§†",
    "booking.pet_nanny": "å® ç‰©ä¿å§†",
    "booking.service_date": "æœåŠ¡æ—¥æœŸ",
    "booking.start_time": "å¼€å§‹æ—¶é—´",
    "booking.end_time": "ç»“æŸæ—¶é—´",
    "booking.which_pet": "å“ªåªå® ç‰©ï¼Ÿ",
    "booking.select_pet": "è¯·é€‰æ‹©å® ç‰©â€¦",
    "booking.location": "æœåŠ¡åœ°ç‚¹",
    "booking.location_not_set": "è¯·åœ¨ä¸ªäººèµ„æ–™ä¸­è®¾ç½®åœ°ç‚¹",
    "booking.amount": "é¢„çº¦é‡‘é¢ï¼ˆç¾Žå…ƒï¼‰",
    "booking.amount_note": "æœ€ä½Ž $10 Â· é‡‘é¢å°†æ‰˜ç®¡è‡³æœåŠ¡å®Œæˆ",
    "booking.amount_calculated": "ä»·æ ¼æŒ‰ä¿å§†æ—¶è–ªè‡ªåŠ¨è®¡ç®—",
    "booking.cancel": "å–æ¶ˆ",
    "booking.pay": "å‰å¾€ä»˜æ¬¾",
    // Common
    "common.save": "ä¿å­˜",
    "common.cancel": "å–æ¶ˆ",
    "common.confirm": "ç¡®è®¤",
    "common.delete": "åˆ é™¤",
    "common.create": "åˆ›å»º",
    "common.add": "æ·»åŠ ",
    "common.remove": "ç§»é™¤",
    "common.close": "å…³é—­",
    "common.loading": "åŠ è½½ä¸­...",
    "common.error": "é”™è¯¯",
    "common.success": "æˆåŠŸ",
    "common.others": "å…¶ä»–",
  },
};

// Detect device language
const detectLanguage = (): Language => {
  const browserLang = navigator.language.toLowerCase();
  if (browserLang.startsWith("zh-tw") || browserLang.startsWith("zh-hant")) {
    return "zh-TW";
  } else if (browserLang.startsWith("zh")) {
    return "zh-CN";
  }
  return "en";
};

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>(() => {
    const saved = localStorage.getItem("huddle_language");
    if (saved && (saved === "en" || saved === "zh-TW" || saved === "zh-CN")) {
      return saved as Language;
    }
    return detectLanguage();
  });

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem("huddle_language", lang);
  };

  const t = (key: string): string => {
    return translations[language][key] || translations.en[key] || key;
  };

  useEffect(() => {
    document.documentElement.lang = language === "zh-TW" ? "zh-Hant" : language === "zh-CN" ? "zh-Hans" : "en";
  }, [language]);

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error("useLanguage must be used within a LanguageProvider");
  }
  return context;
};
